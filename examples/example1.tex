\documentclass{article}

\title{Test}
\date{07-05-2016}
\author{MJ}

\usepackage{listings}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{xcolor}
\lstset{
	frame=shadowbox,
	breaklines=true,
	numbers=left,
	commentstyle=\textit,
	postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}}
}
\lstset{language=Python}

\default_settings{lang[Python 3]}

\begin{document}
	\maketitle
	\pagenumbering{gobble}
	\newpage
	\pagenumbering{arabic}
	
	\section{Test 1}
	Test, test.
	
	\subsection{Test test}
	Test doc\\
	\begin_code{echo[T], output[T], id[Test]}
for i in range(10):
    print(i)

print('Test')
    \end_code
	Test, test, test\\
	\begin_code{processor[python], img_w[200], img_h[100], img_align[center], img_caption[Test image], img_label[fig:test]}
import matplotlib
import numpy as np
import matplotlib.pyplot as plt

def f(x):
    return x**2

x = np.linspace(0, 3*np.pi, 500)
plt.plot(x, np.sin(f(x)))
plt.title('A simple chirp')
# long comment, long comment, long comment, long comment, long comment, long comment, long comment, long comment, long comment, long comment, long comment, long comment
print('before')
plt.show()
print('after')
    \end_code
	End
	\snippet_output{id[Test]}
	
\end{document}